@model EduSphere.Models.User
@{
    ViewBag.Title = "Profilim";
    string defaultPp = Url.Content("~/images/walpaper.png");
    string ppSrc = (Model?.ProfilePhoto != null && Model?.ProfilePhotoType != null)
        ? $"data:{Model.ProfilePhotoType};base64,{Convert.ToBase64String(Model.ProfilePhoto)}"
        : defaultPp;
}
<div class="profile-modal">
    <div class="profile-avatar-container">
        <img src="@ppSrc" alt="Profil Fotoğrafı" class="profile-avatar-img">
        <h2>@Model.Name @Model.Lastname</h2>
        <div class="profile-username">@Model.Username</div>
    </div>
    <form asp-action="UpdateProfilePhoto" asp-controller="UserSettings" method="post" enctype="multipart/form-data" class="profile-photo-form">
        <input type="file" name="profilePhoto" accept="image/*">
        <button type="submit" class="profile-btn">Fotoğrafı Değiştir</button>
    </form>
    @if (Model?.ProfilePhoto != null)
    {
        <form asp-action="RemoveProfilePhoto" asp-controller="UserSettings" method="post" class="profile-remove-form">
            <button type="submit" class="profile-btn profile-btn-yellow">Fotoğrafı Kaldır</button>
        </form>
    }

    <form asp-action="UpdateProfile" asp-controller="UserSettings" method="post" class="profile-info-form">
        <div class="profile-info-group">
            <label>Ad</label>
            <input type="text" name="name" value="@Model.Name" required maxlength="50">
        </div>
        <div class="profile-info-group">
            <label>Soyad</label>
            <input type="text" name="lastname" value="@Model.Lastname" required maxlength="50">
        </div>
        <div class="profile-info-group">
            <label>Kullanıcı Adı</label>
            <input type="text" value="@Model.Username" disabled>
        </div>
        <div class="profile-info-group">
            <label>Email</label>
            <input type="email" name="email" value="@Model.Email" required maxlength="60">
        </div>
        <div class="profile-info-group">
            <label>Telefon Numarası</label>
            <input type="text" name="phonenumber" value="@Model.PhoneNumber" maxlength="20">
        </div>
        <div class="profile-info-group">
            <label>Bölüm</label>
            <input type="text" name="department" value="@Model.Department" maxlength="50">
        </div>
        <div class="profile-info-group">
            <label>Adres</label>
            <input type="text" name="adress" value="@Model.Adress" maxlength="150">
        </div>
        <button type="submit" class="profile-btn-save">Kaydet</button>
    </form>
    <form asp-action="DeleteAccount" asp-controller="UserSettings" method="post" onsubmit="return confirm('Hesabını silmek istediğine emin misin? Bu işlem geri alınamaz!');">
        <button type="submit" class="profile-btn-danger">Hesabımı Sil</button>
    </form>
</div>